<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at May 8, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120508" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
                
                    
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="git@github.com:disy/jSCSI.git" id="bannerLeft">
                                                <img src="images/logo.png" alt="jSCSI"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
        
                  <li id="publishDate">Last Published: 2012-05-08</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 2.2-SNAPSHOT</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="http://jscsi.org" class="externalLink" title="jSCSI">jSCSI</a>
        <li class="divider ">/</li>
      </li>
                <li class="">
                    <a href="./" title="jSCSI">jSCSI</a>
        <li class="divider ">/</li>
      </li>
    <li class=""></li>
                              
        
              </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
        
                                   <h5>Target</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="About Target">About Target</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
          </ul>
                       <h5>Reports</h5>
                  <ul>
                  <li class="none">
                          <a href="project-reports.html" title="Reports">Reports</a>
            </li>
          </ul>
                      
        
      
          
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <p><a class="externalLink" href="https://github.com/disy/jSCSI"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" style="position: absolute; top: 0; right: 0; border: 0;" alt="Fork me on GitHub" /></a></p><h1>Description</h1><p>The target is entirely written in Java. Based on its use-case as stand-alone process, it offers the ability to be started in an own process.</p><div class="section"><div class="section"><h3>Configuration<a name="Configuration"></a></h3><p>The configuration of the initiator takes place over the class <i>org.jscsi.target.Configuration</i> storing global configurations as well as target-specific ones. Instead of building a suitable configuration by hand, a xsd is provided under <i>src/main/resources/jscsi.xsd</i>. Please note that every own xml used for configuring the jSCSI-target must satisfy the denoted xsd. One example of such an xml is given at the end of the document.</p><p>A detailed description of the supported settings is given in the class <i>org.jscsi.parser.datasegment.OperationalTextKey</i> in the commons-bundle. If the config is created by hand, the same settings than denoted by the xsd must be set. Otherwise the target may not be fully functional (even if no exception might be thrown). In all cases, the Configuration must be initialized properly to get the target running</p></div><div class="section"><h3>Handling the Target<a name="Handling_the_Target"></a></h3><p>The main class <i>org.jscsi.target.TargetServer</i> refers to a Configuration, created with the help of such an XML, while running. At the moment (April 2012), the target is not supporting any authentication or authorization If the storage, referring in the Configuration, is not existing, a creation process must triggered implicitly by the implementing StorageModule. The login-process is performed afterwards.</p></div><div class="section"><h3>Reading and Writing<a name="Reading_and_Writing"></a></h3><p>The target listens on the port denoted in the Configuration an maps any request to the registered StorageModules. The main functionalities for a StorageModule is read, write and close. Fully capable to support multithreaded-environments, jSCSI offers a method to for non-blocking read-/write-operations (returning Future-objects) as well as to block directly within each read-/write-access.</p></div><div class="section"><h3>Example of initialization<a name="Example_of_initialization"></a></h3><p>The fastest way to get the jSCSI-target on is the writing of the denote configuration-xml and giving the path of the XML to the TargetServer as only parameter. If no parameter is given as parameter, the standard configuration from <i>target/src/main/resources/jscsi-target.xml</i> is taken.</p></div><div class="section"><h3>Example of a configuration-xml<a name="Example_of_a_configuration-xml"></a></h3><p>See below an example of the target-config. Note, that many settings are negotiated between initiator and target and therefore not set by a configuration.</p>
<div class="source"><pre class="prettyprint">&lt;configuration xmlns=&quot;http://www.jscsi.org/2010-04&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://www.jscsi.org/2010-04 jscsi-target.xsd&quot;&gt;

    &lt;TargetList&gt;
        &lt;Target&gt;
            &lt;TargetName&gt;iqn.2010-04.local-test:disk-1&lt;/TargetName&gt;
            &lt;TargetAlias&gt;jSCSI Target&lt;/TargetAlias&gt;
            &lt;SyncFileStorage&gt;
                &lt;Path&gt;/tmp/storage1.dat&lt;/Path&gt;
                &lt;NoCreate /&gt;
                &lt;!-- &lt;Create size=&quot;0.75&quot;/&gt;--&gt;&gt;
            &lt;/SyncFileStorage&gt;
        &lt;/Target&gt;
        &lt;Target&gt;
            &lt;TargetName&gt;iqn.2010-04.local-test:disk-2&lt;/TargetName&gt;
            &lt;TargetAlias&gt;jSCSI Target&lt;/TargetAlias&gt;
            &lt;AsyncFileStorage&gt;
                &lt;Path&gt;/tmp/storage2.dat&lt;/Path&gt;
                &lt;NoCreate /&gt;
                &lt;!-- &lt;Create size=&quot;0.75&quot;/&gt;--&gt;
            &lt;/AsyncFileStorage&gt;
        &lt;/Target&gt;
    &lt;/TargetList&gt;
    &lt;GlobalConfig&gt;
        &lt;AllowSloppyNegotiation&gt;true&lt;/AllowSloppyNegotiation&gt;
        &lt;Port&gt;3260&lt;/Port&gt;
    &lt;/GlobalConfig&gt;
&lt;/configuration&gt;
</pre></div></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2012
                        <a href="http://www.disy.uni-konstanz.de">University of Konstanz, Distributed Systems Group</a>.
            All Rights Reserved.      
        
      </div>

                      </div>
    </footer>
  </body>
</html>
